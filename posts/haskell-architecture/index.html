<!doctype html><html lang="en"><head><title data-react-helmet="true">Haskell architectural choices?</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="generator" content="Phenomic 0.21.1"/><meta data-react-helmet="true" property="og:site_name" content="random-agent"/><meta data-react-helmet="true" name="twitter:site" content="@rcalsaverini"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Haskell architectural choices?"/><meta data-react-helmet="true" property="og:url" content="https://rcalsaverini.github.io/posts/haskell-architecture/"/><meta data-react-helmet="true" property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg"/><meta data-react-helmet="true" property="og:description" content="Motivation I&#x27;ve been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Haskell architectural choices?"/><meta data-react-helmet="true" name="twitter:creator" content="@rcalsaverini"/><meta data-react-helmet="true" name="twitter:description" content="Motivation I&#x27;ve been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…"/><meta data-react-helmet="true" name="twitter:image" content="https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg"/><meta data-react-helmet="true" name="description" content="Motivation I&#x27;ve been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…"/><link rel="stylesheet" href="/phenomic.browser.f03920f4354222b68ad9.css"/><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js?features=es6&amp;flags=gated"></script><script data-react-helmet="true" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div id="phenomic"><div class="_2Mf6m" data-reactroot="" data-reactid="1" data-react-checksum="-1289073872"><div hidden="" data-reactid="2"><!-- react-empty: 3 --><!-- react-empty: 4 --><style data-reactid="5">@-ms-viewport { width: device-width; }</style></div><header class="_2gGRo" data-reactid="6"><nav class="_2frUm" data-reactid="7"><div class="_37D8R" data-reactid="8"><a class="Ezg15" href="/" data-reactid="9">Home</a></div><div class="_3VLYQ" data-reactid="10"><a href="https://twitter.com/rcalsaverini" class="Ezg15" data-reactid="11"><span class="SVGInline SVGInline--cleaned" data-reactid="12"><svg class="SVGInline-svg SVGInline--cleaned-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 4.557a9.83 9.83 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724 9.864 9.864 0 0 1-3.127 1.195 4.916 4.916 0 0 0-3.594-1.555c-3.18 0-5.515 2.966-4.797 6.045A13.978 13.978 0 0 1 1.67 3.15a4.93 4.93 0 0 0 1.524 6.573 4.903 4.903 0 0 1-2.23-.616c-.053 2.28 1.582 4.415 3.95 4.89a4.935 4.935 0 0 1-2.224.084 4.928 4.928 0 0 0 4.6 3.42A9.9 9.9 0 0 1 0 19.54a13.94 13.94 0 0 0 7.548 2.212c9.142 0 14.307-7.72 13.995-14.646A10.025 10.025 0 0 0 24 4.556z"/></svg></span><!-- react-text: 13 -->Twitter<!-- /react-text --></a><a href="https://github.com/rcalsaverini/" class="Ezg15" data-reactid="14"><span class="SVGInline SVGInline--cleaned" data-reactid="15"><svg class="SVGInline-svg SVGInline--cleaned-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.6.11.793-.26.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.806 1.304 3.49.997.108-.776.42-1.306.763-1.605-2.665-.305-5.467-1.334-5.467-5.93 0-1.312.47-2.382 1.236-3.222-.125-.303-.536-1.524.116-3.176 0 0 1.008-.322 3.3 1.23A11.51 11.51 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.29-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.236 1.91 1.236 3.22 0 4.61-2.807 5.625-5.48 5.922.43.372.824 1.102.824 2.222v3.293c0 .32.192.694.8.576C20.567 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg></span><!-- react-text: 16 -->GitHub<!-- /react-text --></a></div></nav></header><div class="_116Tm" data-reactid="17"><div class="sFWsg" data-reactid="18"><!-- react-empty: 19 --><div class="_3p2ZP" style="background:#111 url(https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg) 50% 50% / cover;" data-reactid="20"><div class="_3wrxV" data-reactid="21"><div class="hOK0m" data-reactid="22"><h1 class="_1Tkeg" data-reactid="23">Haskell architectural choices?</h1></div></div></div><div class="hOK0m _1z1n5" data-reactid="24"><div data-reactid="25"><header class="_2BJ2-" data-reactid="26"><time data-reactid="27">Sat Oct 01 2016</time></header></div><div class="_30RKo" data-reactid="28"><div class="phenomic-BodyContainer" data-reactid="29"><h2 id="motivation"><a href="#motivation" class="phenomic-HeadingAnchor">#</a>Motivation</h2>
<p>I've been playing on and off again with the <a href="https://www.haskell.org/">Haskell programming language</a> for more than six years now, but I never ever sat down to try to build real software with it. I've played around, read a lot about it, read a lot about the theoretical concepts around it and even used it a bit in production with very simple, localized, script-like small chunks of code that did very specialized things.</p>
<p>After all this time I think I have enough time and will to actually try to do something more complex in Haskell. The problem is: I've spent most of my time around haskell learning theoretical concepts, syntax and curiosities. I didn't spent any time learning design patterns and software engineering in Haskell. And I really think learning about those things isn't possible until you start to write an actual application.</p>
<h2 id="clean-architecture"><a href="#clean-architecture" class="phenomic-HeadingAnchor">#</a>Clean Architecture</h2>
<p>When developing applications in typical object-oriented fashion, I typically resort to the so called <a href="https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html">clean architecture</a> idea:</p>
<p><img src="https://8thlight.com/blog/assets/posts/2012-08-13-the-clean-architecture/CleanArchitecture-8b00a9d7e2543fa9ca76b81b05066629.jpg"></p>
<p>This principle consists mainly in making sure dependencies always flow from code inwards in the figure above. At the very core your main domain entities - typically, in Java or similar languages, the classes that define the domain where your applications works and the basic logic of those objects. Things like: <code>User</code>, <code>CheckingAccount</code>, ...</p>
<p>In the next layer are Use Cases - classes that define the logic of your application. If your application have users and they can create accounts, you would have a use case <code>CreateNewUserAccount</code>, describing the logic of how a user create a new account. The important part is that this code will <strong>only depend on the domain entities</strong>.</p>
</div></div><hr data-reactid="30"/><div data-reactid="31"><h2 class="_1vSY4" data-reactid="32">Latest Posts</h2><div data-reactid="33"><ul class="lfRQE" data-reactid="34"><li data-reactid="35"><div class="_1eeKI" data-reactid="36"><a class="_2mH_g" href="/posts/haskell-architecture/" data-reactid="37">Haskell architectural choices?</a><div class="_2l2N1" data-reactid="38"><time data-reactid="39">Sat Oct 01 2016</time></div><div class="_1-sEy" data-reactid="40"><!-- react-text: 41 -->Motivation I&#x27;ve been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…<!-- /react-text --><!-- react-text: 42 --> <!-- /react-text --></div><a class="niUXw" href="/posts/haskell-architecture/" data-reactid="43"><span role="button" class="_1mmZb _1w6mX" data-reactid="44">Read More →</span></a></div></li><li data-reactid="45"><div class="_1eeKI" data-reactid="46"><a class="_2mH_g" href="/posts/operational-semantics/" data-reactid="47">The Operational Semantics for Monads</a><div class="_2l2N1" data-reactid="48"><time data-reactid="49">Wed Aug 25 2010</time></div><div class="_1-sEy" data-reactid="50"><!-- react-text: 51 -->Disclaimer: this is an old blog post from a very old wordpress blog and may contain inacuracies. I reproduced it as is for sentimental…<!-- /react-text --><!-- react-text: 52 --> <!-- /react-text --></div><a class="niUXw" href="/posts/operational-semantics/" data-reactid="53"><span role="button" class="_1mmZb _1w6mX" data-reactid="54">Read More →</span></a></div></li><li data-reactid="55"><div class="_1eeKI" data-reactid="56"><a class="_2mH_g" href="/posts/stochastic-processes/" data-reactid="57">Stochastic Processes as Monad Transformers</a><div class="_2l2N1" data-reactid="58"><time data-reactid="59">Mon Aug 02 2010</time></div><div class="_1-sEy" data-reactid="60"><!-- react-text: 61 -->I have a difficulty to understand functional programming concepts that I can’t put to some very simple and natural use (natural for me, of…<!-- /react-text --><!-- react-text: 62 --> <!-- /react-text --></div><a class="niUXw" href="/posts/stochastic-processes/" data-reactid="63"><span role="button" class="_1mmZb _1w6mX" data-reactid="64">Read More →</span></a></div></li></ul></div></div></div></div></div><footer class="_1Ustb" data-reactid="65"><p data-reactid="66"><a href="https://phenomic.io" class="_21LuU" data-reactid="67"><!-- react-text: 68 -->Website generated with <!-- /react-text --><span class="MMp-P" data-reactid="69">&lt;Phenomic /&gt;</span></a></p></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.7f6093458561a2a9bb2178ef2cba0f0f.json"},{"title":"About me","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","description":"I am Rafael Calsaverini. This is my blog. * * * I like bayesian statistics, information theory, haskell programming and statistical…","__filename":"about.md","__url":"/about/","__resourceUrl":"/about/index.html","__dataUrl":"/about/index.html.dee8b5bc97512cbc60dbc7e12ba2f7c4.json"},{"title":"Random Agent","subtitle":"An entropy bounded utility maximizer.","layout":"Homepage","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","cta":{"label":"About.","link":"about"},"description":"This is my personal webpage as blog. Welcome.","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.a9f9154f1f41a80a92fe2187b567b33a.json"},{"title":"Haskell architectural choices?","author":"Rafael S. Calsaverini","tags":"typeclasses, free monads, architecture, haskell","date":"2016-10-02T00:00:00.000Z","layout":"Post","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","description":"Motivation I've been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…","__filename":"posts/haskell-architecture.md","__url":"/posts/haskell-architecture/","__resourceUrl":"/posts/haskell-architecture/index.html","__dataUrl":"/posts/haskell-architecture/index.html.cfd597763a6391fc52df520f49d32131.json"},{"title":"The Operational Semantics for Monads","author":"Rafael S. Calsaverini","tags":"Haskell, Monads, Operational Monads, Free Vector Spaces","date":"2010-08-26T00:00:00.000Z","layout":"Post","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","description":"Disclaimer: this is an old blog post from a very old wordpress blog and may contain inacuracies. I reproduced it as is for sentimental…","__filename":"posts/operational-semantics.md","__url":"/posts/operational-semantics/","__resourceUrl":"/posts/operational-semantics/index.html","__dataUrl":"/posts/operational-semantics/index.html.4815e748ec87e2665e5715fbb8b42b9c.json"},{"title":"Stochastic Processes as Monad Transformers","author":"Rafael S. Calsaverini","date":"2010-08-03T00:00:00.000Z","layout":"Post","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","tags":"Haskell, Monad Transformers, Monads, Tutorial, Stochastic Processes","description":"I have a difficulty to understand functional programming concepts that I can’t put to some very simple and natural use (natural for me, of…","__filename":"posts/stochastic-processes.md","__url":"/posts/stochastic-processes/","__resourceUrl":"/posts/stochastic-processes/index.html","__dataUrl":"/posts/stochastic-processes/index.html.957de5fb81a2e5a71a52b22b1de4a1bb.json"}];window.__INITIAL_STATE__ = {"pages":{"/posts/haskell-architecture/":{"head":{"title":"Haskell architectural choices?","author":"Rafael S. Calsaverini","tags":"typeclasses, free monads, architecture, haskell","date":"2016-10-02T00:00:00.000Z","layout":"Post","hero":"https://upload.wikimedia.org/wikipedia/commons/3/31/Portal_Math_Banner_Background_ka.jpg","description":"Motivation I've been playing on and off again with the [Haskell programming language][haskell] for more than six years now, but I never…"},"body":"<h2 id=\"motivation\"><a href=\"#motivation\" class=\"phenomic-HeadingAnchor\">#</a>Motivation</h2>\n<p>I've been playing on and off again with the <a href=\"https://www.haskell.org/\">Haskell programming language</a> for more than six years now, but I never ever sat down to try to build real software with it. I've played around, read a lot about it, read a lot about the theoretical concepts around it and even used it a bit in production with very simple, localized, script-like small chunks of code that did very specialized things.</p>\n<p>After all this time I think I have enough time and will to actually try to do something more complex in Haskell. The problem is: I've spent most of my time around haskell learning theoretical concepts, syntax and curiosities. I didn't spent any time learning design patterns and software engineering in Haskell. And I really think learning about those things isn't possible until you start to write an actual application.</p>\n<h2 id=\"clean-architecture\"><a href=\"#clean-architecture\" class=\"phenomic-HeadingAnchor\">#</a>Clean Architecture</h2>\n<p>When developing applications in typical object-oriented fashion, I typically resort to the so called <a href=\"https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html\">clean architecture</a> idea:</p>\n<p><img src=\"https://8thlight.com/blog/assets/posts/2012-08-13-the-clean-architecture/CleanArchitecture-8b00a9d7e2543fa9ca76b81b05066629.jpg\"></p>\n<p>This principle consists mainly in making sure dependencies always flow from code inwards in the figure above. At the very core your main domain entities - typically, in Java or similar languages, the classes that define the domain where your applications works and the basic logic of those objects. Things like: <code>User</code>, <code>CheckingAccount</code>, ...</p>\n<p>In the next layer are Use Cases - classes that define the logic of your application. If your application have users and they can create accounts, you would have a use case <code>CreateNewUserAccount</code>, describing the logic of how a user create a new account. The important part is that this code will <strong>only depend on the domain entities</strong>.</p>\n","__filename":"posts/haskell-architecture.md","__url":"/posts/haskell-architecture/","__resourceUrl":"/posts/haskell-architecture/index.html","__dataUrl":"/posts/haskell-architecture/index.html.cfd597763a6391fc52df520f49d32131.json","type":"Post"}}}</script><script src="/phenomic.browser.f03920f4354222b68ad9.js"></script></body></html>